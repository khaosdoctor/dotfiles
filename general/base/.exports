#!/bin/bash
# THIS NEEDS TO BE HERE OTHERWISE GIT STOPS WORKING (https://github.com/keybase/keybase-issues/issues/2798)
export GPG_TTY=$(tty)
###################################################

# Unique the PATH entries
typeset -U path PATH

path=(
    # System binary (do NOT change the order)
    /usr/local/bin
    /usr/bin
    /bin

    # User Scripts
    $HOME/bin
    # Tooling Scripts
    $HOME/.local/bin

    # Tooling
    $HOME/.asdf/shims
    $DENO_INSTALL_ROOT/bin
    $GOPATH/bin
    $GOROOT/bin

    $path
)

export PATH

# Default terminal
export SSH_AUTH_SOCK=$HOME/.1password/agent.sock
export TERMINAL=xterm-kitty
export ASDF_DATA_DIR=$HOME/.asdf
export POSTING_THEME_DIRECTORY=$HOME/.config/posting/themes
export PIPX_BIN_DIR=$HOME/.local/bin
export GOPATH=$HOME/gopath
export KUBE_EDITOR='vim'
export EDITOR='nvim'
#export GOROOT=/usr/local
export GOPATH=$HOME/go
export DOTFILES=$HOME/Documents/Repositories/github.com/khaosdoctor/dotfiles
# If bat is installed set its theme
export BAT_THEME=Dracula
export DENO_DIR=$HOME/Library/Caches/deno
export DENO_INSTALL_ROOT=$HOME/.deno
export CC="ccache cc"
export CXX="ccache c++"
export NODE_OPTIONS="--no-warnings"
export XCURSOR_SIZE=24
export XCURSOR_THEME="Colloid Cursors"

# Linux distros only
if [[ "$(uname -s)" == "Linux" ]]; then
    # Set the session to sway so it fixes some things
    if [ -n "$SWAYSOCK" ]; then
        export SDL_VIDEODRIVER=wayland
        export _JAVA_AWT_WM_NONREPARENTING=1
        export QT_QPA_PLATFORM=wayland
        export XDG_CURRENT_DESKTOP=sway
        export XDG_SESSION_DESKTOP=sway
        # This fixes some bugs where electron applications won't work in secondary monitors
        export ELECTRON_OZONE_PLATFORM_HINT=wayland
    fi
fi
